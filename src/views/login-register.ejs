<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Login Register App</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	</head>
	<body>
		<section class="container w-100 p-4 d-flex justify-content-center pb-4 my-5">
		<div style="width: 26rem;">
			<!-- Pills navs -->
			<!-- views/login-register.ejs -->
			<% if (locals.success) { %>
			  <div class="alert alert-success"><%= success %></div>
			<% } %>

			<% if (locals.error) { %>
			  <div class="alert alert-danger"><%= error %></div>
			<% } %>

			<% if (locals.logout) { %>
			  <div class="alert alert-success">Successfully Logged Out</div>
			<% } %>

			<ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
				<li class="nav-item" role="presentation">
					<a class="nav-link active" id="tab-login" data-toggle="pill" role="tab" href="#pills-login" aria-controls="pills-login"aria-selected="true">Login</a>
				</li>
				<li class="nav-item" role="presentation">
					<a class="nav-link" id="tab-register" data-toggle="pill" href="#pills-register" role="tab"
						aria-controls="pills-register" aria-selected="false">Register</a>
				</li>
			</ul>
			<!-- Pills navs -->
			<!-- Pills content -->
			<div class="tab-content">
				<div class="tab-pane fade show active" id="pills-login" role="tabpanel" aria-labelledby="tab-login">
					<form class="form" method="post" action="/login">
						<!-- Email input -->
						<div class="form-outline mt-5 mb-4">
							<label class="form-label w-100">
								Email or username
								<input type="email" name="email" class="form-control" />
							</label>
						</div>
						<!-- Password input -->
						<div class="form-outline mb-4">
							<label class="form-label w-100">
								Password
								<input type="password" name="password" class="form-control" />
							</label>
						</div>
						<!-- 2 column grid layout -->
						<div class="row mb-4">
							<div class="col-md-6 d-flex justify-content-center">
								<!-- Checkbox -->
								<div class="form-check mb-3 mb-md-0">
									<input class="form-check-input" type="checkbox" value="" id="loginCheck" checked />
									<label class="form-check-label" for="loginCheck"> Remember me </label>
								</div>
							</div>
							<div class="col-md-6 d-flex justify-content-center">
								<!-- Simple link -->
								<a href="#!">Forgot password?</a>
							</div>
						</div>
						<!-- Submit button -->
						<button type="submit" class="btn btn-primary btn-block mb-4">Sign in</button>
					</form>
				</div>
				<div class="tab-pane fade" id="pills-register" role="tabpanel" aria-labelledby="tab-register">
					<form class="form" method="post" action="/register" id="register-form">
						<!-- Name input -->
						<div class="form-outline mb-4 mt-5">
							<label class="form-label w-100">
								First Name
								<input type="text" name="firstName" value="<%= locals.firstName || '' %>" class="form-control" />
							</label>
						</div>
						<!-- Username input -->
						<div class="form-outline mb-4">
							<label class="form-label w-100">
								Last Name
								<input type="text" name="lastName" value="<%= locals.lastName || '' %>" class="form-control" />
							</label>
						</div>
						<!-- Email input -->
						<div class="form-outline mb-4">
							<label class="form-label w-100">
								Email
								<input type="email" name="email" value="<%= locals.email || '' %>" class="form-control" />
							</label>
						</div>
						<!-- Password input -->
						<div class="form-outline mb-5">
							<label class="form-label w-100">
								Password
								<input type="password" name="password" class="form-control" />
							</label>
						</div>
						<!-- Submit button -->
						<button type="submit" class="btn btn-primary btn-block mb-3">Sign in</button>
					</form>
				</div>
			</div>
			<!-- Pills content -->
		</div>
		</div>
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
		<script type="text/javascript">
			// JavaScript code running on the client-side
			document.addEventListener('DOMContentLoaded', function() {
			  // Get the tab element based on the URL
			  var tabId = window.location.href.includes('login') ? 'tab-login' : 'tab-register';
			  // console.log(window.location.href.split('\\').length);
			  if(window.location.href.split('/')[3] == ''){
			  	tabId = 'tab-login';
			  }
			  var tab = document.getElementById(tabId);

			  // Select the tab
			  var tabTrigger = new bootstrap.Tab(tab);
			  tabTrigger.show();
			});
		</script>
	</body>
</html>